"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/scrape/route";
exports.ids = ["app/api/scrape/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:dns":
/*!***************************!*\
  !*** external "node:dns" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:dns");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:http2");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:querystring");

/***/ }),

/***/ "node:sqlite":
/*!******************************!*\
  !*** external "node:sqlite" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:sqlite");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:timers":
/*!******************************!*\
  !*** external "node:timers" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:timers");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscrape%2Froute&page=%2Fapi%2Fscrape%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscrape%2Froute.ts&appDir=D%3A%5CHighperAI%5CTASK2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHighperAI%5CTASK2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscrape%2Froute&page=%2Fapi%2Fscrape%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscrape%2Froute.ts&appDir=D%3A%5CHighperAI%5CTASK2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHighperAI%5CTASK2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_HighperAI_TASK2_app_api_scrape_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/scrape/route.ts */ \"(rsc)/./app/api/scrape/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/scrape/route\",\n        pathname: \"/api/scrape\",\n        filename: \"route\",\n        bundlePath: \"app/api/scrape/route\"\n    },\n    resolvedPagePath: \"D:\\\\HighperAI\\\\TASK2\\\\app\\\\api\\\\scrape\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_HighperAI_TASK2_app_api_scrape_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/scrape/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY3JhcGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnNjcmFwZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnNjcmFwZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDSGlnaHBlckFJJTVDVEFTSzIlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNIaWdocGVyQUklNUNUQVNLMiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDQTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvP2I1ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcSGlnaHBlckFJXFxcXFRBU0syXFxcXGFwcFxcXFxhcGlcXFxcc2NyYXBlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zY3JhcGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zY3JhcGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NjcmFwZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXEhpZ2hwZXJBSVxcXFxUQVNLMlxcXFxhcHBcXFxcYXBpXFxcXHNjcmFwZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc2NyYXBlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscrape%2Froute&page=%2Fapi%2Fscrape%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscrape%2Froute.ts&appDir=D%3A%5CHighperAI%5CTASK2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHighperAI%5CTASK2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/scrape/route.ts":
/*!*********************************!*\
  !*** ./app/api/scrape/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/esm/index.js\");\n// Server-side scraper using fetch + cheerio.\n// Extracts profiles via JSON-LD (schema.org Person), Microdata Person, h-card microformats, and heuristics.\n\nconst ALLOWED_PROTOCOLS = new Set([\n    \"http:\",\n    \"https:\"\n]);\n// Basic SSRF guard: block localhost/private IP literals and localhost hostnames\nfunction isBlockedHost(u) {\n    const host = u.hostname.toLowerCase();\n    if (host === \"localhost\" || host.endsWith(\".localhost\")) return true;\n    if (host === \"0.0.0.0\") return true;\n    if (host === \"127.0.0.1\" || host.startsWith(\"127.\")) return true;\n    // Private ranges if provided as literal IP\n    const parts = host.split(\".\").map((p)=>Number(p));\n    if (parts.length === 4 && parts.every((n)=>Number.isFinite(n))) {\n        const [a, b] = parts;\n        if (a === 10) return true;\n        if (a === 172 && b >= 16 && b <= 31) return true;\n        if (a === 192 && b === 168) return true;\n    }\n    return false;\n}\nfunction safeURL(input) {\n    try {\n        const u = new URL(input);\n        if (!ALLOWED_PROTOCOLS.has(u.protocol)) return null;\n        if (isBlockedHost(u)) return null;\n        return u;\n    } catch  {\n        return null;\n    }\n}\nfunction absUrl(base, href) {\n    if (!href) return undefined;\n    try {\n        return new URL(href, base).toString();\n    } catch  {\n        return undefined;\n    }\n}\nfunction parseEmail(href) {\n    if (!href) return undefined;\n    if (href.startsWith(\"mailto:\")) {\n        return href.slice(\"mailto:\".length).split(\"?\")[0];\n    }\n    // Fallback: detect visible email text\n    const m = href.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}/i);\n    return m ? m[0] : undefined;\n}\nfunction detectSocial(url) {\n    const u = url.toLowerCase();\n    if (u.includes(\"github.com/\")) return {\n        type: \"GitHub\",\n        url\n    };\n    if (u.includes(\"linkedin.com/in\") || u.includes(\"linkedin.com/company\")) return {\n        type: \"LinkedIn\",\n        url\n    };\n    if (u.includes(\"twitter.com/\") || u.includes(\"x.com/\")) return {\n        type: \"Twitter/X\",\n        url\n    };\n    if (u.includes(\"instagram.com/\")) return {\n        type: \"Instagram\",\n        url\n    };\n    if (u.includes(\"facebook.com/\")) return {\n        type: \"Facebook\",\n        url\n    };\n    if (u.includes(\"youtube.com/\") || u.includes(\"youtu.be/\")) return {\n        type: \"YouTube\",\n        url\n    };\n    if (u.includes(\"medium.com/\")) return {\n        type: \"Medium\",\n        url\n    };\n    if (u.includes(\"t.me/\")) return {\n        type: \"Telegram\",\n        url\n    };\n    if (u.includes(\"mastodon.social\") || u.includes(\"@\")) return null // too ambiguous; skip generic @ links\n    ;\n    return null;\n}\nfunction cleanText(s) {\n    if (!s) return undefined;\n    const t = s.replace(/\\s+/g, \" \").trim();\n    return t || undefined;\n}\nfunction uniq(arr, key) {\n    const m = new Map();\n    for (const v of arr)m.set(key(v), v);\n    return [\n        ...m.values()\n    ];\n}\nfunction mergeProfiles(list) {\n    // Merge by (name + email) or shared social url\n    const out = [];\n    for (const p of list){\n        let merged = false;\n        for (const q of out){\n            const sameNameEmail = p.name && q.name && p.name.toLowerCase() === q.name.toLowerCase() && (p.email && q.email && p.email.toLowerCase() === q.email.toLowerCase() || !p.email && !q.email);\n            const socialOverlap = new Set((q.socials || []).map((s)=>s.url));\n            const hasOverlap = (p.socials || []).some((s)=>socialOverlap.has(s.url));\n            if (sameNameEmail || hasOverlap) {\n                q.name ||= p.name;\n                q.title ||= p.title;\n                q.email ||= p.email;\n                q.image ||= p.image;\n                q.bio ||= p.bio;\n                q.socials = uniq([\n                    ...q.socials || [],\n                    ...p.socials || []\n                ], (s)=>s.url);\n                q.links = uniq([\n                    ...q.links || [],\n                    ...p.links || []\n                ], (l)=>l);\n                merged = true;\n                break;\n            }\n        }\n        if (!merged) out.push({\n            ...p,\n            socials: uniq(p.socials || [], (s)=>s.url),\n            links: uniq(p.links || [], (l)=>l)\n        });\n    }\n    return out;\n}\n// Extractors\nfunction extractJsonLd($, base) {\n    const profiles = [];\n    $('script[type=\"application/ld+json\"]').each((_, el)=>{\n        const raw = $(el).contents().text();\n        if (!raw) return;\n        try {\n            const json = JSON.parse(raw);\n            const items = Array.isArray(json) ? json : [\n                json\n            ];\n            for (const item of items){\n                const queue = [\n                    item\n                ];\n                while(queue.length){\n                    const cur = queue.shift();\n                    if (!cur || typeof cur !== \"object\") continue;\n                    const type = cur[\"@type\"] || cur.type;\n                    const types = Array.isArray(type) ? type : [\n                        type\n                    ];\n                    if (types && types.some((t)=>typeof t === \"string\" && t.toLowerCase().includes(\"person\"))) {\n                        const p = {\n                            name: cleanText(cur.name),\n                            title: cleanText(cur.jobTitle || cur.jobtitle),\n                            email: cleanText(cur.email),\n                            image: absUrl(base, cur.image?.url || cur.image),\n                            bio: cleanText(cur.description),\n                            socials: [],\n                            links: [],\n                            source: \"jsonld\"\n                        };\n                        const sameAs = [];\n                        if (Array.isArray(cur.sameAs)) sameAs.push(...cur.sameAs);\n                        if (cur.url) sameAs.push(cur.url);\n                        for (const u of sameAs){\n                            const full = absUrl(base, u);\n                            if (!full) continue;\n                            const s = detectSocial(full);\n                            if (s) p.socials.push(s);\n                            else p.links.push(full);\n                        }\n                        profiles.push(p);\n                    }\n                    for (const v of Object.values(cur))if (v && typeof v === \"object\") queue.push(v);\n                }\n            }\n        } catch  {\n        // Ignore malformed JSON-LD blocks\n        }\n    });\n    return profiles;\n}\nfunction extractMicrodata($, base) {\n    const profiles = [];\n    const sel = '[itemscope][itemtype*=\"schema.org/Person\"], [itemtype*=\"schema.org/person\"]';\n    $(sel).each((_, el)=>{\n        const node = $(el);\n        const getProp = (prop)=>{\n            const t = node.find(`[itemprop=\"${prop}\"]`).first();\n            if (!t.length) return undefined;\n            if (t.is(\"meta\")) return cleanText(t.attr(\"content\") || t.attr(\"value\"));\n            if (t.is(\"img\")) return absUrl(base, t.attr(\"src\"));\n            return cleanText(t.text() || t.attr(\"content\") || t.attr(\"value\"));\n        };\n        const p = {\n            name: cleanText(getProp(\"name\")),\n            title: cleanText(getProp(\"jobTitle\")),\n            email: cleanText(getProp(\"email\")),\n            image: getProp(\"image\"),\n            bio: cleanText(getProp(\"description\")),\n            socials: [],\n            links: [],\n            source: \"microdata\"\n        };\n        node.find('[itemprop=\"sameAs\"], a[itemprop=\"url\"]').each((_, a)=>{\n            const href = $(a).attr(\"href\");\n            const full = absUrl(base, href);\n            if (!full) return;\n            const s = detectSocial(full);\n            if (s) p.socials.push(s);\n            else p.links.push(full);\n        });\n        profiles.push(p);\n    });\n    return profiles;\n}\nfunction extractHCard($, base) {\n    const profiles = [];\n    $(\".h-card\").each((_, el)=>{\n        const n = $(el);\n        const p = {\n            name: cleanText(n.find(\".p-name, .p-org\").first().text()),\n            title: cleanText(n.find(\".p-job-title, .p-title\").first().text()),\n            email: parseEmail(n.find(\".u-email, a[href^='mailto:']\").attr(\"href\") || \"\"),\n            image: absUrl(base, n.find(\".u-photo, img\").first().attr(\"src\")),\n            bio: cleanText(n.find(\".p-note, .p-bio\").first().text()),\n            socials: [],\n            links: [],\n            source: \"h-card\"\n        };\n        n.find(\"a[rel='me'], a[rel='author'], a\").each((_, a)=>{\n            const full = absUrl(base, $(a).attr(\"href\"));\n            if (!full) return;\n            const s = detectSocial(full);\n            if (s) p.socials.push(s);\n            else p.links.push(full);\n        });\n        profiles.push(p);\n    });\n    return profiles;\n}\nfunction extractHeuristics($, base) {\n    const profiles = [];\n    const candidates = $([\n        \"[class*='author']\",\n        \"[class*='profile']\",\n        \"[class*='member']\",\n        \"[class*='team']\",\n        \"[class*='person']\",\n        \"[class*='user']\",\n        \"[class*='staff']\",\n        \"[class*='founder']\",\n        \"article.author\",\n        \"section.author\"\n    ].join(\",\"));\n    candidates.each((_, el)=>{\n        const node = $(el);\n        // Look for name and title\n        const name = cleanText(node.find(\"h1, h2, h3, h4, .name, [class*='name']\").first().text()) || undefined;\n        const title = cleanText(node.find(\".title, .role, [class*='job'], [class*='title'], [class*='role']\").first().text()) || undefined;\n        const email = parseEmail(node.find(\"a[href^='mailto:']\").attr(\"href\") || node.find(\"a[href*='@']\").attr(\"href\") || node.text()) || undefined;\n        const image = absUrl(base, node.find(\"img\").first().attr(\"src\"));\n        const bio = cleanText(node.find(\"p, .bio, [class*='bio'], [class*='about']\").first().text()) || undefined;\n        const socials = [];\n        const links = [];\n        node.find(\"a[href]\").each((_, a)=>{\n            const full = absUrl(base, $(a).attr(\"href\"));\n            if (!full) return;\n            const s = detectSocial(full);\n            if (s) socials.push(s);\n            else links.push(full);\n        });\n        if (name || title || email || image || bio || socials.length > 0) {\n            profiles.push({\n                name,\n                title,\n                email,\n                image,\n                bio,\n                socials: uniq(socials, (s)=>s.url),\n                links: uniq(links, (l)=>l),\n                source: \"heuristic\"\n            });\n        }\n    });\n    // Also detect standalone author blocks\n    $(\"a[rel='author'], [itemprop='author']\").each((_, el)=>{\n        const n = $(el);\n        const href = absUrl(base, n.attr(\"href\"));\n        const p = {\n            name: cleanText(n.text()),\n            links: href ? [\n                href\n            ] : [],\n            source: \"heuristic\"\n        };\n        if (p.name || p.links && p.links.length) profiles.push(p);\n    });\n    return profiles;\n}\nasync function POST(req) {\n    try {\n        const { url } = await req.json().catch(()=>({}));\n        if (!url) {\n            return Response.json({\n                ok: false,\n                error: \"Missing 'url' in request body\"\n            }, {\n                status: 400\n            });\n        }\n        const target = safeURL(url);\n        if (!target) {\n            return Response.json({\n                ok: false,\n                error: \"Invalid or disallowed URL\"\n            }, {\n                status: 400\n            });\n        }\n        const controller = new AbortController();\n        const timeout = setTimeout(()=>controller.abort(), 12000);\n        const res = await fetch(target.toString(), {\n            method: \"GET\",\n            redirect: \"follow\",\n            signal: controller.signal,\n            headers: {\n                \"User-Agent\": \"ProfileExtractorBot/1.0 (+https://vercel.com/) Mozilla/5.0 (compatible; MesoAssignmentBot/1.0)\",\n                Accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\"\n            }\n        }).catch((e)=>{\n            if (e.name === \"AbortError\") throw new Error(\"Fetch timed out\");\n            throw e;\n        });\n        clearTimeout(timeout);\n        if (!res.ok) {\n            return Response.json({\n                ok: false,\n                error: `Failed to fetch: ${res.status}`\n            }, {\n                status: 502\n            });\n        }\n        const contentType = res.headers.get(\"content-type\") || \"\";\n        if (!contentType.includes(\"text/html\")) {\n            return Response.json({\n                ok: false,\n                error: \"URL did not return HTML content\"\n            }, {\n                status: 400\n            });\n        }\n        // Limit body size (first ~1.2MB) to avoid huge pages\n        const raw = await res.text();\n        const html = raw.length > 1200000 ? raw.slice(0, 1200000) : raw;\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_0__.load(html);\n        const collected = [\n            ...extractJsonLd($, target),\n            ...extractMicrodata($, target),\n            ...extractHCard($, target),\n            ...extractHeuristics($, target)\n        ];\n        // Clean up results\n        const cleaned = mergeProfiles(collected.map((p)=>({\n                ...p,\n                name: cleanText(p.name),\n                title: cleanText(p.title),\n                email: p.email?.toLowerCase(),\n                bio: cleanText(p.bio),\n                image: p.image,\n                socials: uniq(p.socials || [], (s)=>s.url),\n                links: uniq(p.links || [], (l)=>l)\n            })).filter((p)=>p.name || p.email || p.socials && p.socials.length || p.image || p.bio));\n        return Response.json({\n            ok: true,\n            url: target.toString(),\n            profiles: cleaned\n        });\n    } catch (e) {\n        const msg = typeof e?.message === \"string\" ? e.message : \"Unknown error\";\n        return Response.json({\n            ok: false,\n            error: msg\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ3RCTSxPQUFPeEIsVUFBVTFCLEVBQUVrRCxLQUFLO2dCQUN4QkwsT0FBTzdDLEVBQUU2QyxLQUFLLEVBQUVuRDtnQkFDaEIwRCxLQUFLMUIsVUFBVTFCLEVBQUVvRCxHQUFHO2dCQUNwQkQsT0FBT25ELEVBQUVtRCxLQUFLO2dCQUNkSixTQUFTaEIsS0FBSy9CLEVBQUUrQyxPQUFPLElBQUksRUFBRSxFQUFFLENBQUNwQixJQUFNQSxFQUFFSixHQUFHO2dCQUMzQzhCLE9BQU90QixLQUFLL0IsRUFBRXFELEtBQUssSUFBSSxFQUFFLEVBQUUsQ0FBQ0MsSUFBTUE7WUFDcEMsSUFDQ3VFLE1BQU0sQ0FBQyxDQUFDN0gsSUFBTUEsRUFBRTRDLElBQUksSUFBSTVDLEVBQUU2QyxLQUFLLElBQUs3QyxFQUFFK0MsT0FBTyxJQUFJL0MsRUFBRStDLE9BQU8sQ0FBQzdDLE1BQU0sSUFBS0YsRUFBRW1ELEtBQUssSUFBSW5ELEVBQUVvRCxHQUFHO1FBRzNGLE9BQU8rQyxTQUFTbEMsSUFBSSxDQUFDO1lBQUVtQyxJQUFJO1lBQU03RSxLQUFLZ0YsT0FBT3RGLFFBQVE7WUFBSXlDLFVBQVVrRTtRQUFRO0lBQzdFLEVBQUUsT0FBT1IsR0FBUTtRQUNmLE1BQU1VLE1BQU0sT0FBT1YsR0FBR1csWUFBWSxXQUFXWCxFQUFFVyxPQUFPLEdBQUc7UUFDekQsT0FBTzVCLFNBQVNsQyxJQUFJLENBQUM7WUFBRW1DLElBQUk7WUFBT0MsT0FBT3lCO1FBQUksR0FBRztZQUFFeEIsUUFBUTtRQUFJO0lBQ2hFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vYXBwL2FwaS9zY3JhcGUvcm91dGUudHM/OTE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTZXJ2ZXItc2lkZSBzY3JhcGVyIHVzaW5nIGZldGNoICsgY2hlZXJpby5cbi8vIEV4dHJhY3RzIHByb2ZpbGVzIHZpYSBKU09OLUxEIChzY2hlbWEub3JnIFBlcnNvbiksIE1pY3JvZGF0YSBQZXJzb24sIGgtY2FyZCBtaWNyb2Zvcm1hdHMsIGFuZCBoZXVyaXN0aWNzLlxuXG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCJcbmltcG9ydCAqIGFzIGNoZWVyaW8gZnJvbSBcImNoZWVyaW9cIlxuXG50eXBlIFNvY2lhbExpbmsgPSB7IHR5cGU6IHN0cmluZzsgdXJsOiBzdHJpbmcgfVxudHlwZSBQcm9maWxlID0ge1xuICBuYW1lPzogc3RyaW5nXG4gIHRpdGxlPzogc3RyaW5nXG4gIGVtYWlsPzogc3RyaW5nXG4gIGltYWdlPzogc3RyaW5nXG4gIGJpbz86IHN0cmluZ1xuICBzb2NpYWxzPzogU29jaWFsTGlua1tdXG4gIGxpbmtzPzogc3RyaW5nW11cbiAgc291cmNlPzogc3RyaW5nXG59XG5cbmNvbnN0IEFMTE9XRURfUFJPVE9DT0xTID0gbmV3IFNldChbXCJodHRwOlwiLCBcImh0dHBzOlwiXSlcblxuLy8gQmFzaWMgU1NSRiBndWFyZDogYmxvY2sgbG9jYWxob3N0L3ByaXZhdGUgSVAgbGl0ZXJhbHMgYW5kIGxvY2FsaG9zdCBob3N0bmFtZXNcbmZ1bmN0aW9uIGlzQmxvY2tlZEhvc3QodTogVVJMKSB7XG4gIGNvbnN0IGhvc3QgPSB1Lmhvc3RuYW1lLnRvTG93ZXJDYXNlKClcbiAgaWYgKGhvc3QgPT09IFwibG9jYWxob3N0XCIgfHwgaG9zdC5lbmRzV2l0aChcIi5sb2NhbGhvc3RcIikpIHJldHVybiB0cnVlXG4gIGlmIChob3N0ID09PSBcIjAuMC4wLjBcIikgcmV0dXJuIHRydWVcbiAgaWYgKGhvc3QgPT09IFwiMTI3LjAuMC4xXCIgfHwgaG9zdC5zdGFydHNXaXRoKFwiMTI3LlwiKSkgcmV0dXJuIHRydWVcbiAgLy8gUHJpdmF0ZSByYW5nZXMgaWYgcHJvdmlkZWQgYXMgbGl0ZXJhbCBJUFxuICBjb25zdCBwYXJ0cyA9IGhvc3Quc3BsaXQoXCIuXCIpLm1hcCgocCkgPT4gTnVtYmVyKHApKVxuICBpZiAocGFydHMubGVuZ3RoID09PSA0ICYmIHBhcnRzLmV2ZXJ5KChuKSA9PiBOdW1iZXIuaXNGaW5pdGUobikpKSB7XG4gICAgY29uc3QgW2EsIGJdID0gcGFydHNcbiAgICBpZiAoYSA9PT0gMTApIHJldHVybiB0cnVlXG4gICAgaWYgKGEgPT09IDE3MiAmJiBiID49IDE2ICYmIGIgPD0gMzEpIHJldHVybiB0cnVlXG4gICAgaWYgKGEgPT09IDE5MiAmJiBiID09PSAxNjgpIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHNhZmVVUkwoaW5wdXQ6IHN0cmluZyk6IFVSTCB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IHUgPSBuZXcgVVJMKGlucHV0KVxuICAgIGlmICghQUxMT1dFRF9QUk9UT0NPTFMuaGFzKHUucHJvdG9jb2wpKSByZXR1cm4gbnVsbFxuICAgIGlmIChpc0Jsb2NrZWRIb3N0KHUpKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB1XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gYWJzVXJsKGJhc2U6IFVSTCwgaHJlZj86IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAoIWhyZWYpIHJldHVybiB1bmRlZmluZWRcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFVSTChocmVmLCBiYXNlKS50b1N0cmluZygpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUVtYWlsKGhyZWY/OiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFocmVmKSByZXR1cm4gdW5kZWZpbmVkXG4gIGlmIChocmVmLnN0YXJ0c1dpdGgoXCJtYWlsdG86XCIpKSB7XG4gICAgcmV0dXJuIGhyZWYuc2xpY2UoXCJtYWlsdG86XCIubGVuZ3RoKS5zcGxpdChcIj9cIilbMF1cbiAgfVxuICAvLyBGYWxsYmFjazogZGV0ZWN0IHZpc2libGUgZW1haWwgdGV4dFxuICBjb25zdCBtID0gaHJlZi5tYXRjaCgvW0EtWjAtOS5fJSstXStAW0EtWjAtOS4tXStcXC5bQS1aXXsyLH0vaSlcbiAgcmV0dXJuIG0gPyBtWzBdIDogdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uIGRldGVjdFNvY2lhbCh1cmw6IHN0cmluZyk6IFNvY2lhbExpbmsgfCBudWxsIHtcbiAgY29uc3QgdSA9IHVybC50b0xvd2VyQ2FzZSgpXG4gIGlmICh1LmluY2x1ZGVzKFwiZ2l0aHViLmNvbS9cIikpIHJldHVybiB7IHR5cGU6IFwiR2l0SHViXCIsIHVybCB9XG4gIGlmICh1LmluY2x1ZGVzKFwibGlua2VkaW4uY29tL2luXCIpIHx8IHUuaW5jbHVkZXMoXCJsaW5rZWRpbi5jb20vY29tcGFueVwiKSkgcmV0dXJuIHsgdHlwZTogXCJMaW5rZWRJblwiLCB1cmwgfVxuICBpZiAodS5pbmNsdWRlcyhcInR3aXR0ZXIuY29tL1wiKSB8fCB1LmluY2x1ZGVzKFwieC5jb20vXCIpKSByZXR1cm4geyB0eXBlOiBcIlR3aXR0ZXIvWFwiLCB1cmwgfVxuICBpZiAodS5pbmNsdWRlcyhcImluc3RhZ3JhbS5jb20vXCIpKSByZXR1cm4geyB0eXBlOiBcIkluc3RhZ3JhbVwiLCB1cmwgfVxuICBpZiAodS5pbmNsdWRlcyhcImZhY2Vib29rLmNvbS9cIikpIHJldHVybiB7IHR5cGU6IFwiRmFjZWJvb2tcIiwgdXJsIH1cbiAgaWYgKHUuaW5jbHVkZXMoXCJ5b3V0dWJlLmNvbS9cIikgfHwgdS5pbmNsdWRlcyhcInlvdXR1LmJlL1wiKSkgcmV0dXJuIHsgdHlwZTogXCJZb3VUdWJlXCIsIHVybCB9XG4gIGlmICh1LmluY2x1ZGVzKFwibWVkaXVtLmNvbS9cIikpIHJldHVybiB7IHR5cGU6IFwiTWVkaXVtXCIsIHVybCB9XG4gIGlmICh1LmluY2x1ZGVzKFwidC5tZS9cIikpIHJldHVybiB7IHR5cGU6IFwiVGVsZWdyYW1cIiwgdXJsIH1cbiAgaWYgKHUuaW5jbHVkZXMoXCJtYXN0b2Rvbi5zb2NpYWxcIikgfHwgdS5pbmNsdWRlcyhcIkBcIikpIHJldHVybiBudWxsIC8vIHRvbyBhbWJpZ3VvdXM7IHNraXAgZ2VuZXJpYyBAIGxpbmtzXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIGNsZWFuVGV4dChzPzogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmICghcykgcmV0dXJuIHVuZGVmaW5lZFxuICBjb25zdCB0ID0gcy5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKS50cmltKClcbiAgcmV0dXJuIHQgfHwgdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uIHVuaXE8VD4oYXJyOiBUW10sIGtleTogKHY6IFQpID0+IHN0cmluZyk6IFRbXSB7XG4gIGNvbnN0IG0gPSBuZXcgTWFwPHN0cmluZywgVD4oKVxuICBmb3IgKGNvbnN0IHYgb2YgYXJyKSBtLnNldChrZXkodiksIHYpXG4gIHJldHVybiBbLi4ubS52YWx1ZXMoKV1cbn1cblxuZnVuY3Rpb24gbWVyZ2VQcm9maWxlcyhsaXN0OiBQcm9maWxlW10pOiBQcm9maWxlW10ge1xuICAvLyBNZXJnZSBieSAobmFtZSArIGVtYWlsKSBvciBzaGFyZWQgc29jaWFsIHVybFxuICBjb25zdCBvdXQ6IFByb2ZpbGVbXSA9IFtdXG4gIGZvciAoY29uc3QgcCBvZiBsaXN0KSB7XG4gICAgbGV0IG1lcmdlZCA9IGZhbHNlXG4gICAgZm9yIChjb25zdCBxIG9mIG91dCkge1xuICAgICAgY29uc3Qgc2FtZU5hbWVFbWFpbCA9XG4gICAgICAgIHAubmFtZSAmJlxuICAgICAgICBxLm5hbWUgJiZcbiAgICAgICAgcC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHEubmFtZS50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICgocC5lbWFpbCAmJiBxLmVtYWlsICYmIHAuZW1haWwudG9Mb3dlckNhc2UoKSA9PT0gcS5lbWFpbC50b0xvd2VyQ2FzZSgpKSB8fCAoIXAuZW1haWwgJiYgIXEuZW1haWwpKVxuICAgICAgY29uc3Qgc29jaWFsT3ZlcmxhcCA9IG5ldyBTZXQoKHEuc29jaWFscyB8fCBbXSkubWFwKChzKSA9PiBzLnVybCkpXG4gICAgICBjb25zdCBoYXNPdmVybGFwID0gKHAuc29jaWFscyB8fCBbXSkuc29tZSgocykgPT4gc29jaWFsT3ZlcmxhcC5oYXMocy51cmwpKVxuICAgICAgaWYgKHNhbWVOYW1lRW1haWwgfHwgaGFzT3ZlcmxhcCkge1xuICAgICAgICBxLm5hbWUgfHw9IHAubmFtZVxuICAgICAgICBxLnRpdGxlIHx8PSBwLnRpdGxlXG4gICAgICAgIHEuZW1haWwgfHw9IHAuZW1haWxcbiAgICAgICAgcS5pbWFnZSB8fD0gcC5pbWFnZVxuICAgICAgICBxLmJpbyB8fD0gcC5iaW9cbiAgICAgICAgcS5zb2NpYWxzID0gdW5pcShbLi4uKHEuc29jaWFscyB8fCBbXSksIC4uLihwLnNvY2lhbHMgfHwgW10pXSwgKHMpID0+IHMudXJsKVxuICAgICAgICBxLmxpbmtzID0gdW5pcShbLi4uKHEubGlua3MgfHwgW10pLCAuLi4ocC5saW5rcyB8fCBbXSldLCAobCkgPT4gbClcbiAgICAgICAgbWVyZ2VkID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW1lcmdlZCkgb3V0LnB1c2goeyAuLi5wLCBzb2NpYWxzOiB1bmlxKHAuc29jaWFscyB8fCBbXSwgKHMpID0+IHMudXJsKSwgbGlua3M6IHVuaXEocC5saW5rcyB8fCBbXSwgKGwpID0+IGwpIH0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG4vLyBFeHRyYWN0b3JzXG5cbmZ1bmN0aW9uIGV4dHJhY3RKc29uTGQoJDogY2hlZXJpby5DaGVlcmlvQVBJLCBiYXNlOiBVUkwpOiBQcm9maWxlW10ge1xuICBjb25zdCBwcm9maWxlczogUHJvZmlsZVtdID0gW11cbiAgJCgnc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCJdJykuZWFjaCgoXywgZWwpID0+IHtcbiAgICBjb25zdCByYXcgPSAkKGVsKS5jb250ZW50cygpLnRleHQoKVxuICAgIGlmICghcmF3KSByZXR1cm5cbiAgICB0cnkge1xuICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3KVxuICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5pc0FycmF5KGpzb24pID8ganNvbiA6IFtqc29uXVxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlOiBhbnlbXSA9IFtpdGVtXVxuICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgY3VyID0gcXVldWUuc2hpZnQoKVxuICAgICAgICAgIGlmICghY3VyIHx8IHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIpIGNvbnRpbnVlXG4gICAgICAgICAgY29uc3QgdHlwZSA9IGN1cltcIkB0eXBlXCJdIHx8IGN1ci50eXBlXG4gICAgICAgICAgY29uc3QgdHlwZXMgPSBBcnJheS5pc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXVxuICAgICAgICAgIGlmICh0eXBlcyAmJiB0eXBlcy5zb21lKCh0OiBzdHJpbmcpID0+IHR5cGVvZiB0ID09PSBcInN0cmluZ1wiICYmIHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInBlcnNvblwiKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHA6IFByb2ZpbGUgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IGNsZWFuVGV4dChjdXIubmFtZSksXG4gICAgICAgICAgICAgIHRpdGxlOiBjbGVhblRleHQoY3VyLmpvYlRpdGxlIHx8IGN1ci5qb2J0aXRsZSksXG4gICAgICAgICAgICAgIGVtYWlsOiBjbGVhblRleHQoY3VyLmVtYWlsKSxcbiAgICAgICAgICAgICAgaW1hZ2U6IGFic1VybChiYXNlLCBjdXIuaW1hZ2U/LnVybCB8fCBjdXIuaW1hZ2UpLFxuICAgICAgICAgICAgICBiaW86IGNsZWFuVGV4dChjdXIuZGVzY3JpcHRpb24pLFxuICAgICAgICAgICAgICBzb2NpYWxzOiBbXSxcbiAgICAgICAgICAgICAgbGlua3M6IFtdLFxuICAgICAgICAgICAgICBzb3VyY2U6IFwianNvbmxkXCIsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYW1lQXM6IHN0cmluZ1tdID0gW11cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1ci5zYW1lQXMpKSBzYW1lQXMucHVzaCguLi5jdXIuc2FtZUFzKVxuICAgICAgICAgICAgaWYgKGN1ci51cmwpIHNhbWVBcy5wdXNoKGN1ci51cmwpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHUgb2Ygc2FtZUFzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZ1bGwgPSBhYnNVcmwoYmFzZSwgdSlcbiAgICAgICAgICAgICAgaWYgKCFmdWxsKSBjb250aW51ZVxuICAgICAgICAgICAgICBjb25zdCBzID0gZGV0ZWN0U29jaWFsKGZ1bGwpXG4gICAgICAgICAgICAgIGlmIChzKSBwLnNvY2lhbHMhLnB1c2gocylcbiAgICAgICAgICAgICAgZWxzZSBwLmxpbmtzIS5wdXNoKGZ1bGwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9maWxlcy5wdXNoKHApXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBPYmplY3QudmFsdWVzKGN1cikpIGlmICh2ICYmIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiKSBxdWV1ZS5wdXNoKHYpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElnbm9yZSBtYWxmb3JtZWQgSlNPTi1MRCBibG9ja3NcbiAgICB9XG4gIH0pXG4gIHJldHVybiBwcm9maWxlc1xufVxuXG5mdW5jdGlvbiBleHRyYWN0TWljcm9kYXRhKCQ6IGNoZWVyaW8uQ2hlZXJpb0FQSSwgYmFzZTogVVJMKTogUHJvZmlsZVtdIHtcbiAgY29uc3QgcHJvZmlsZXM6IFByb2ZpbGVbXSA9IFtdXG4gIGNvbnN0IHNlbCA9ICdbaXRlbXNjb3BlXVtpdGVtdHlwZSo9XCJzY2hlbWEub3JnL1BlcnNvblwiXSwgW2l0ZW10eXBlKj1cInNjaGVtYS5vcmcvcGVyc29uXCJdJ1xuICAkKHNlbCkuZWFjaCgoXywgZWwpID0+IHtcbiAgICBjb25zdCBub2RlID0gJChlbClcbiAgICBjb25zdCBnZXRQcm9wID0gKHByb3A6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgdCA9IG5vZGUuZmluZChgW2l0ZW1wcm9wPVwiJHtwcm9wfVwiXWApLmZpcnN0KClcbiAgICAgIGlmICghdC5sZW5ndGgpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGlmICh0LmlzKFwibWV0YVwiKSkgcmV0dXJuIGNsZWFuVGV4dCh0LmF0dHIoXCJjb250ZW50XCIpIHx8IHQuYXR0cihcInZhbHVlXCIpKVxuICAgICAgaWYgKHQuaXMoXCJpbWdcIikpIHJldHVybiBhYnNVcmwoYmFzZSwgdC5hdHRyKFwic3JjXCIpKVxuICAgICAgcmV0dXJuIGNsZWFuVGV4dCh0LnRleHQoKSB8fCB0LmF0dHIoXCJjb250ZW50XCIpIHx8IHQuYXR0cihcInZhbHVlXCIpKVxuICAgIH1cbiAgICBjb25zdCBwOiBQcm9maWxlID0ge1xuICAgICAgbmFtZTogY2xlYW5UZXh0KGdldFByb3AoXCJuYW1lXCIpKSxcbiAgICAgIHRpdGxlOiBjbGVhblRleHQoZ2V0UHJvcChcImpvYlRpdGxlXCIpKSxcbiAgICAgIGVtYWlsOiBjbGVhblRleHQoZ2V0UHJvcChcImVtYWlsXCIpKSxcbiAgICAgIGltYWdlOiBnZXRQcm9wKFwiaW1hZ2VcIiksXG4gICAgICBiaW86IGNsZWFuVGV4dChnZXRQcm9wKFwiZGVzY3JpcHRpb25cIikpLFxuICAgICAgc29jaWFsczogW10sXG4gICAgICBsaW5rczogW10sXG4gICAgICBzb3VyY2U6IFwibWljcm9kYXRhXCIsXG4gICAgfVxuICAgIG5vZGUuZmluZCgnW2l0ZW1wcm9wPVwic2FtZUFzXCJdLCBhW2l0ZW1wcm9wPVwidXJsXCJdJykuZWFjaCgoXywgYSkgPT4ge1xuICAgICAgY29uc3QgaHJlZiA9ICQoYSkuYXR0cihcImhyZWZcIilcbiAgICAgIGNvbnN0IGZ1bGwgPSBhYnNVcmwoYmFzZSwgaHJlZilcbiAgICAgIGlmICghZnVsbCkgcmV0dXJuXG4gICAgICBjb25zdCBzID0gZGV0ZWN0U29jaWFsKGZ1bGwpXG4gICAgICBpZiAocykgcC5zb2NpYWxzIS5wdXNoKHMpXG4gICAgICBlbHNlIHAubGlua3MhLnB1c2goZnVsbClcbiAgICB9KVxuICAgIHByb2ZpbGVzLnB1c2gocClcbiAgfSlcbiAgcmV0dXJuIHByb2ZpbGVzXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RIQ2FyZCgkOiBjaGVlcmlvLkNoZWVyaW9BUEksIGJhc2U6IFVSTCk6IFByb2ZpbGVbXSB7XG4gIGNvbnN0IHByb2ZpbGVzOiBQcm9maWxlW10gPSBbXVxuICAkKFwiLmgtY2FyZFwiKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgIGNvbnN0IG4gPSAkKGVsKVxuICAgIGNvbnN0IHA6IFByb2ZpbGUgPSB7XG4gICAgICBuYW1lOiBjbGVhblRleHQobi5maW5kKFwiLnAtbmFtZSwgLnAtb3JnXCIpLmZpcnN0KCkudGV4dCgpKSxcbiAgICAgIHRpdGxlOiBjbGVhblRleHQobi5maW5kKFwiLnAtam9iLXRpdGxlLCAucC10aXRsZVwiKS5maXJzdCgpLnRleHQoKSksXG4gICAgICBlbWFpbDogcGFyc2VFbWFpbChuLmZpbmQoXCIudS1lbWFpbCwgYVtocmVmXj0nbWFpbHRvOiddXCIpLmF0dHIoXCJocmVmXCIpIHx8IFwiXCIpLFxuICAgICAgaW1hZ2U6IGFic1VybChiYXNlLCBuLmZpbmQoXCIudS1waG90bywgaW1nXCIpLmZpcnN0KCkuYXR0cihcInNyY1wiKSksXG4gICAgICBiaW86IGNsZWFuVGV4dChuLmZpbmQoXCIucC1ub3RlLCAucC1iaW9cIikuZmlyc3QoKS50ZXh0KCkpLFxuICAgICAgc29jaWFsczogW10sXG4gICAgICBsaW5rczogW10sXG4gICAgICBzb3VyY2U6IFwiaC1jYXJkXCIsXG4gICAgfVxuICAgIG4uZmluZChcImFbcmVsPSdtZSddLCBhW3JlbD0nYXV0aG9yJ10sIGFcIikuZWFjaCgoXywgYSkgPT4ge1xuICAgICAgY29uc3QgZnVsbCA9IGFic1VybChiYXNlLCAkKGEpLmF0dHIoXCJocmVmXCIpKVxuICAgICAgaWYgKCFmdWxsKSByZXR1cm5cbiAgICAgIGNvbnN0IHMgPSBkZXRlY3RTb2NpYWwoZnVsbClcbiAgICAgIGlmIChzKSBwLnNvY2lhbHMhLnB1c2gocylcbiAgICAgIGVsc2UgcC5saW5rcyEucHVzaChmdWxsKVxuICAgIH0pXG4gICAgcHJvZmlsZXMucHVzaChwKVxuICB9KVxuICByZXR1cm4gcHJvZmlsZXNcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEhldXJpc3RpY3MoJDogY2hlZXJpby5DaGVlcmlvQVBJLCBiYXNlOiBVUkwpOiBQcm9maWxlW10ge1xuICBjb25zdCBwcm9maWxlczogUHJvZmlsZVtdID0gW11cbiAgY29uc3QgY2FuZGlkYXRlcyA9ICQoXG4gICAgW1xuICAgICAgXCJbY2xhc3MqPSdhdXRob3InXVwiLFxuICAgICAgXCJbY2xhc3MqPSdwcm9maWxlJ11cIixcbiAgICAgIFwiW2NsYXNzKj0nbWVtYmVyJ11cIixcbiAgICAgIFwiW2NsYXNzKj0ndGVhbSddXCIsXG4gICAgICBcIltjbGFzcyo9J3BlcnNvbiddXCIsXG4gICAgICBcIltjbGFzcyo9J3VzZXInXVwiLFxuICAgICAgXCJbY2xhc3MqPSdzdGFmZiddXCIsXG4gICAgICBcIltjbGFzcyo9J2ZvdW5kZXInXVwiLFxuICAgICAgXCJhcnRpY2xlLmF1dGhvclwiLFxuICAgICAgXCJzZWN0aW9uLmF1dGhvclwiLFxuICAgIF0uam9pbihcIixcIiksXG4gIClcblxuICBjYW5kaWRhdGVzLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9ICQoZWwpXG4gICAgLy8gTG9vayBmb3IgbmFtZSBhbmQgdGl0bGVcbiAgICBjb25zdCBuYW1lID0gY2xlYW5UZXh0KG5vZGUuZmluZChcImgxLCBoMiwgaDMsIGg0LCAubmFtZSwgW2NsYXNzKj0nbmFtZSddXCIpLmZpcnN0KCkudGV4dCgpKSB8fCB1bmRlZmluZWRcbiAgICBjb25zdCB0aXRsZSA9XG4gICAgICBjbGVhblRleHQobm9kZS5maW5kKFwiLnRpdGxlLCAucm9sZSwgW2NsYXNzKj0nam9iJ10sIFtjbGFzcyo9J3RpdGxlJ10sIFtjbGFzcyo9J3JvbGUnXVwiKS5maXJzdCgpLnRleHQoKSkgfHxcbiAgICAgIHVuZGVmaW5lZFxuICAgIGNvbnN0IGVtYWlsID1cbiAgICAgIHBhcnNlRW1haWwoXG4gICAgICAgIG5vZGUuZmluZChcImFbaHJlZl49J21haWx0bzonXVwiKS5hdHRyKFwiaHJlZlwiKSB8fCBub2RlLmZpbmQoXCJhW2hyZWYqPSdAJ11cIikuYXR0cihcImhyZWZcIikgfHwgbm9kZS50ZXh0KCksXG4gICAgICApIHx8IHVuZGVmaW5lZFxuICAgIGNvbnN0IGltYWdlID0gYWJzVXJsKGJhc2UsIG5vZGUuZmluZChcImltZ1wiKS5maXJzdCgpLmF0dHIoXCJzcmNcIikpXG4gICAgY29uc3QgYmlvID0gY2xlYW5UZXh0KG5vZGUuZmluZChcInAsIC5iaW8sIFtjbGFzcyo9J2JpbyddLCBbY2xhc3MqPSdhYm91dCddXCIpLmZpcnN0KCkudGV4dCgpKSB8fCB1bmRlZmluZWRcblxuICAgIGNvbnN0IHNvY2lhbHM6IFNvY2lhbExpbmtbXSA9IFtdXG4gICAgY29uc3QgbGlua3M6IHN0cmluZ1tdID0gW11cbiAgICBub2RlLmZpbmQoXCJhW2hyZWZdXCIpLmVhY2goKF8sIGEpID0+IHtcbiAgICAgIGNvbnN0IGZ1bGwgPSBhYnNVcmwoYmFzZSwgJChhKS5hdHRyKFwiaHJlZlwiKSlcbiAgICAgIGlmICghZnVsbCkgcmV0dXJuXG4gICAgICBjb25zdCBzID0gZGV0ZWN0U29jaWFsKGZ1bGwpXG4gICAgICBpZiAocykgc29jaWFscy5wdXNoKHMpXG4gICAgICBlbHNlIGxpbmtzLnB1c2goZnVsbClcbiAgICB9KVxuXG4gICAgaWYgKG5hbWUgfHwgdGl0bGUgfHwgZW1haWwgfHwgaW1hZ2UgfHwgYmlvIHx8IHNvY2lhbHMubGVuZ3RoID4gMCkge1xuICAgICAgcHJvZmlsZXMucHVzaCh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIGJpbyxcbiAgICAgICAgc29jaWFsczogdW5pcShzb2NpYWxzLCAocykgPT4gcy51cmwpLFxuICAgICAgICBsaW5rczogdW5pcShsaW5rcywgKGwpID0+IGwpLFxuICAgICAgICBzb3VyY2U6IFwiaGV1cmlzdGljXCIsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICAvLyBBbHNvIGRldGVjdCBzdGFuZGFsb25lIGF1dGhvciBibG9ja3NcbiAgJChcImFbcmVsPSdhdXRob3InXSwgW2l0ZW1wcm9wPSdhdXRob3InXVwiKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgIGNvbnN0IG4gPSAkKGVsKVxuICAgIGNvbnN0IGhyZWYgPSBhYnNVcmwoYmFzZSwgbi5hdHRyKFwiaHJlZlwiKSlcbiAgICBjb25zdCBwOiBQcm9maWxlID0ge1xuICAgICAgbmFtZTogY2xlYW5UZXh0KG4udGV4dCgpKSxcbiAgICAgIGxpbmtzOiBocmVmID8gW2hyZWZdIDogW10sXG4gICAgICBzb3VyY2U6IFwiaGV1cmlzdGljXCIsXG4gICAgfVxuICAgIGlmIChwLm5hbWUgfHwgKHAubGlua3MgJiYgcC5saW5rcy5sZW5ndGgpKSBwcm9maWxlcy5wdXNoKHApXG4gIH0pXG5cbiAgcmV0dXJuIHByb2ZpbGVzXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVybCB9ID0gKGF3YWl0IHJlcS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkpIGFzIHsgdXJsPzogc3RyaW5nIH1cbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UsIGVycm9yOiBcIk1pc3NpbmcgJ3VybCcgaW4gcmVxdWVzdCBib2R5XCIgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBzYWZlVVJMKHVybClcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgb3IgZGlzYWxsb3dlZCBVUkxcIiB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTIwMDApXG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh0YXJnZXQudG9TdHJpbmcoKSwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXG4gICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlVzZXItQWdlbnRcIjogXCJQcm9maWxlRXh0cmFjdG9yQm90LzEuMCAoK2h0dHBzOi8vdmVyY2VsLmNvbS8pIE1vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNZXNvQXNzaWdubWVudEJvdC8xLjApXCIsXG4gICAgICAgIEFjY2VwdDogXCJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSwqLyo7cT0wLjhcIixcbiAgICAgIH0sXG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGlmICgoZSBhcyBhbnkpLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB0aHJvdyBuZXcgRXJyb3IoXCJGZXRjaCB0aW1lZCBvdXRcIilcbiAgICAgIHRocm93IGVcbiAgICB9KVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuXG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogYEZhaWxlZCB0byBmZXRjaDogJHtyZXMuc3RhdHVzfWAgfSwgeyBzdGF0dXM6IDUwMiB9KVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpIHx8IFwiXCJcbiAgICBpZiAoIWNvbnRlbnRUeXBlLmluY2x1ZGVzKFwidGV4dC9odG1sXCIpKSB7XG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IFwiVVJMIGRpZCBub3QgcmV0dXJuIEhUTUwgY29udGVudFwiIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBMaW1pdCBib2R5IHNpemUgKGZpcnN0IH4xLjJNQikgdG8gYXZvaWQgaHVnZSBwYWdlc1xuICAgIGNvbnN0IHJhdyA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICBjb25zdCBodG1sID0gcmF3Lmxlbmd0aCA+IDFfMjAwXzAwMCA/IHJhdy5zbGljZSgwLCAxXzIwMF8wMDApIDogcmF3XG5cbiAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKGh0bWwpXG5cbiAgICBjb25zdCBjb2xsZWN0ZWQ6IFByb2ZpbGVbXSA9IFtcbiAgICAgIC4uLmV4dHJhY3RKc29uTGQoJCwgdGFyZ2V0KSxcbiAgICAgIC4uLmV4dHJhY3RNaWNyb2RhdGEoJCwgdGFyZ2V0KSxcbiAgICAgIC4uLmV4dHJhY3RIQ2FyZCgkLCB0YXJnZXQpLFxuICAgICAgLi4uZXh0cmFjdEhldXJpc3RpY3MoJCwgdGFyZ2V0KSxcbiAgICBdXG5cbiAgICAvLyBDbGVhbiB1cCByZXN1bHRzXG4gICAgY29uc3QgY2xlYW5lZCA9IG1lcmdlUHJvZmlsZXMoXG4gICAgICBjb2xsZWN0ZWRcbiAgICAgICAgLm1hcCgocCkgPT4gKHtcbiAgICAgICAgICAuLi5wLFxuICAgICAgICAgIG5hbWU6IGNsZWFuVGV4dChwLm5hbWUpLFxuICAgICAgICAgIHRpdGxlOiBjbGVhblRleHQocC50aXRsZSksXG4gICAgICAgICAgZW1haWw6IHAuZW1haWw/LnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgYmlvOiBjbGVhblRleHQocC5iaW8pLFxuICAgICAgICAgIGltYWdlOiBwLmltYWdlLFxuICAgICAgICAgIHNvY2lhbHM6IHVuaXEocC5zb2NpYWxzIHx8IFtdLCAocykgPT4gcy51cmwpLFxuICAgICAgICAgIGxpbmtzOiB1bmlxKHAubGlua3MgfHwgW10sIChsKSA9PiBsKSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKHApID0+IHAubmFtZSB8fCBwLmVtYWlsIHx8IChwLnNvY2lhbHMgJiYgcC5zb2NpYWxzLmxlbmd0aCkgfHwgcC5pbWFnZSB8fCBwLmJpbyksXG4gICAgKVxuXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgdXJsOiB0YXJnZXQudG9TdHJpbmcoKSwgcHJvZmlsZXM6IGNsZWFuZWQgfSlcbiAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgY29uc3QgbXNnID0gdHlwZW9mIGU/Lm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBlLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIlxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogbXNnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNoZWVyaW8iLCJBTExPV0VEX1BST1RPQ09MUyIsIlNldCIsImlzQmxvY2tlZEhvc3QiLCJ1IiwiaG9zdCIsImhvc3RuYW1lIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInN0YXJ0c1dpdGgiLCJwYXJ0cyIsInNwbGl0IiwibWFwIiwicCIsIk51bWJlciIsImxlbmd0aCIsImV2ZXJ5IiwibiIsImlzRmluaXRlIiwiYSIsImIiLCJzYWZlVVJMIiwiaW5wdXQiLCJVUkwiLCJoYXMiLCJwcm90b2NvbCIsImFic1VybCIsImJhc2UiLCJocmVmIiwidW5kZWZpbmVkIiwidG9TdHJpbmciLCJwYXJzZUVtYWlsIiwic2xpY2UiLCJtIiwibWF0Y2giLCJkZXRlY3RTb2NpYWwiLCJ1cmwiLCJpbmNsdWRlcyIsInR5cGUiLCJjbGVhblRleHQiLCJzIiwidCIsInJlcGxhY2UiLCJ0cmltIiwidW5pcSIsImFyciIsImtleSIsIk1hcCIsInYiLCJzZXQiLCJ2YWx1ZXMiLCJtZXJnZVByb2ZpbGVzIiwibGlzdCIsIm91dCIsIm1lcmdlZCIsInEiLCJzYW1lTmFtZUVtYWlsIiwibmFtZSIsImVtYWlsIiwic29jaWFsT3ZlcmxhcCIsInNvY2lhbHMiLCJoYXNPdmVybGFwIiwic29tZSIsInRpdGxlIiwiaW1hZ2UiLCJiaW8iLCJsaW5rcyIsImwiLCJwdXNoIiwiZXh0cmFjdEpzb25MZCIsIiQiLCJwcm9maWxlcyIsImVhY2giLCJfIiwiZWwiLCJyYXciLCJjb250ZW50cyIsInRleHQiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJpdGVtIiwicXVldWUiLCJjdXIiLCJzaGlmdCIsInR5cGVzIiwiam9iVGl0bGUiLCJqb2J0aXRsZSIsImRlc2NyaXB0aW9uIiwic291cmNlIiwic2FtZUFzIiwiZnVsbCIsIk9iamVjdCIsImV4dHJhY3RNaWNyb2RhdGEiLCJzZWwiLCJub2RlIiwiZ2V0UHJvcCIsInByb3AiLCJmaW5kIiwiZmlyc3QiLCJpcyIsImF0dHIiLCJleHRyYWN0SENhcmQiLCJleHRyYWN0SGV1cmlzdGljcyIsImNhbmRpZGF0ZXMiLCJqb2luIiwiUE9TVCIsInJlcSIsImNhdGNoIiwiUmVzcG9uc2UiLCJvayIsImVycm9yIiwic3RhdHVzIiwidGFyZ2V0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsInJlZGlyZWN0Iiwic2lnbmFsIiwiaGVhZGVycyIsIkFjY2VwdCIsImUiLCJFcnJvciIsImNsZWFyVGltZW91dCIsImNvbnRlbnRUeXBlIiwiZ2V0IiwiaHRtbCIsImxvYWQiLCJjb2xsZWN0ZWQiLCJjbGVhbmVkIiwiZmlsdGVyIiwibXNnIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/scrape/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/undici","vendor-chunks/iconv-lite","vendor-chunks/parse5","vendor-chunks/cheerio","vendor-chunks/css-select","vendor-chunks/entities","vendor-chunks/domutils","vendor-chunks/htmlparser2","vendor-chunks/whatwg-mimetype","vendor-chunks/nth-check","vendor-chunks/cheerio-select","vendor-chunks/whatwg-encoding","vendor-chunks/encoding-sniffer","vendor-chunks/domhandler","vendor-chunks/dom-serializer","vendor-chunks/css-what","vendor-chunks/parse5-parser-stream","vendor-chunks/parse5-htmlparser2-tree-adapter","vendor-chunks/domelementtype","vendor-chunks/safer-buffer","vendor-chunks/boolbase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscrape%2Froute&page=%2Fapi%2Fscrape%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscrape%2Froute.ts&appDir=D%3A%5CHighperAI%5CTASK2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHighperAI%5CTASK2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();